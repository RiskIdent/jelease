# SPDX-FileCopyrightText: 2022 Risk.Ident GmbH <contact@riskident.com>
#
# SPDX-License-Identifier: CC0-1.0

# yaml-language-server: $schema=./jelease.schema.json

# This is the default config embedded into the program.
# Can be overridden with a different file at:
#
#   /etc/jelease/jelease.yaml
#   ~/.config/jelease.yaml
#   ~/.jelease.yaml
#   jelease.yaml (in current directory)

dryRun: false

packages:
  - name: foobar
    patches:
      - repo: tmp/upstream-test
        file: go.mod
        match: (github.com/joho/godotenv) v.*
        replace: "{{ index .Groups 1 }} {{ .Version }}"

github:
  # Allows setting for GitHub Enterprise
  url: # https://github.example.com
  
  auth:
    type: pat # only "pat" supported
    token: abc123xyz # Generate new token at: https://github.com/settings/tokens
    user: "" # Required if type is "pat"

  pr:
    title: "Update `{{ .Package }}` to {{ .Version }}"
    description: |
      Update PR generated by <https://github.com/RiskIdent/jelease> using newreleases.io

      - Changed version of `{{ .Package }}` to {{ .Version }}
    branch: "jelease/{{ .PackageSafe }}-{{ .Version }}"

jira:
  url: https://jira.example.com
  skipCertVerify: false

  auth:
    type: pat # pat | token
    token: abc123xyz
    user: "" # Unused if auth type is "pat"

  issue:
    labels:
      - jelease
      - update
    status: Backlog
    description: |
      Update issue generated by https://github.com/RiskIdent/jelease using newreleases.io
    type: Story
    project: ""
    projectNameCustomField: 1084

http:
  port: 8080

log:
  format: pretty # pretty | json
  level: debug # trace | debug | info | warn | error | fatal | panic
